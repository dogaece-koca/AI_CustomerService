<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HÄ±zlÄ± Kargo AsistanÄ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Dialogflow Widget Ã–zelleÅŸtirmesi */
        df-messenger {
            --df-messenger-bot-message: #f1f5f9;
            --df-messenger-button-titlebar-color: #3b82f6;
            --df-messenger-chat-background-color: #ffffff;
            --df-messenger-font-color: #333;
            --df-messenger-send-icon: #3b82f6;
            --df-messenger-user-message: #dbeafe;

            /* Widget'Ä± sayfanÄ±n Ã¼zerinde daha baskÄ±n hale getirelim */
            z-index: 999;
        }

        /* Arka plan deseni (WhatsApp Web benzeri hafif bir doku) */
        body {
            background-color: #e5e5f7;
            background-image:  radial-gradient(#444cf7 0.5px, transparent 0.5px), radial-gradient(#444cf7 0.5px, #e5e5f7 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            background-opacity: 0.1;
        }

        /* Animasyonlar */
        .fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.3s; }
        .delay-300 { animation-delay: 0.5s; }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body class="font-sans min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Ana Sohbet Konteyneri -->
    <main class="w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 relative">

        <!-- BaÅŸlÄ±k KÄ±smÄ± -->
        <div class="bg-blue-600 p-6 flex items-center space-x-4">
            <div class="relative">
                <div class="w-12 h-12 bg-white rounded-full flex items-center justify-center text-blue-600">
                    <i class="fas fa-robot text-2xl"></i>
                </div>
                <div class="absolute bottom-0 right-0 w-3 h-3 bg-green-400 border-2 border-blue-600 rounded-full"></div>
            </div>
            <div>
                <h1 class="text-white font-bold text-lg">HÄ±zlÄ± Kargo AsistanÄ±</h1>
                <p class="text-blue-100 text-xs">Ã‡evrimiÃ§i | YanÄ±t sÃ¼resi: AnÄ±nda</p>
            </div>
        </div>

        <!-- Sohbet AkÄ±ÅŸ SimÃ¼lasyonu -->
        <div class="p-6 bg-slate-50 min-h-[400px] flex flex-col space-y-4">

            <!-- Tarih -->
            <div class="text-center text-xs text-gray-400 my-2">BugÃ¼n</div>

            <!-- Bot MesajÄ± 1 -->
            <div class="flex items-start space-x-2 fade-in-up delay-100">
                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-blue-600 text-xs"></i>
                </div>
                <div class="bg-white p-3 rounded-2xl rounded-tl-none shadow-sm text-gray-700 text-sm max-w-[80%]">
                    Merhaba! ğŸ‘‹ Ben yapay zeka destekli kargo asistanÄ±yÄ±m.
                </div>
            </div>

            <!-- Bot MesajÄ± 2 -->
            <div class="flex items-start space-x-2 fade-in-up delay-200">
                <div class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="fas fa-robot text-blue-600 text-xs"></i>
                </div>
                <div class="bg-white p-3 rounded-2xl rounded-tl-none shadow-sm text-gray-700 text-sm max-w-[80%]">
                    SipariÅŸini sorgulayabilir, kargo Ã¼creti hesaplayabilir veya ÅŸube bilgilerine ulaÅŸabilirim. Sana nasÄ±l yardÄ±mcÄ± olayÄ±m?
                </div>
            </div>

            <!-- KullanÄ±cÄ± SeÃ§enekleri (HÄ±zlÄ± Cevaplar) -->
            <div class="flex flex-col space-y-2 pt-4 fade-in-up delay-300 items-end">
                <button onclick="triggerBotAction('Kargom nerede?')" class="bg-blue-600 text-white px-4 py-2 rounded-2xl rounded-tr-none text-sm hover:bg-blue-700 transition shadow-md w-fit">
                    ğŸ“¦ Kargom nerede?
                </button>
                <button onclick="triggerBotAction('Fiyat hesaplamak istiyorum')" class="bg-white text-blue-600 border border-blue-200 px-4 py-2 rounded-2xl rounded-tr-none text-sm hover:bg-blue-50 transition w-fit">
                    ğŸ’° Fiyat ne kadar tutar?
                </button>
                <button onclick="triggerBotAction('Åube bilgisi')" class="bg-white text-blue-600 border border-blue-200 px-4 py-2 rounded-2xl rounded-tr-none text-sm hover:bg-blue-50 transition w-fit">
                    ğŸ“ En yakÄ±n ÅŸube
                </button>
            </div>

        </div>

        <!-- Alt Bilgi / Input AlanÄ± GÃ¶rÃ¼nÃ¼mlÃ¼ Footer -->
        <div class="p-4 bg-white border-t border-gray-100 text-center">
            <p class="text-xs text-gray-400 flex items-center justify-center gap-1">
                <i class="fas fa-lock"></i> Bu sohbet yapay zeka ile korunmaktadÄ±r.
            </p>
        </div>

    </main>

    <!-- ========================================== -->
    <!-- DIALOGFLOW MESSENGER KODU -->
    <!-- ========================================== -->

    <!-- BURAYA_DIALOGFLOW_KODUNU_YAPISTIR -->
    <script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
        <df-messenger
          intent="WELCOME"
          chat-title="Yardimci-Musteri"
          agent-id="a1e7ef35-1001-4e5f-b46e-3f2b37cb6bff"
          language-code="tr"
        ></df-messenger>

    <!-- SCRIPT: Butonlara tÄ±klayÄ±nca Widget'Ä± uyarma -->
    <script>
        function triggerBotAction(query) {
            // 1. KullanÄ±cÄ±ya bilgi ver (Opsiyonel)
            // alert("SaÄŸ alttaki sohbet penceresinden '" + query + "' yazarak devam edebilirsiniz.");

            // 2. Dialogflow Messenger'Ä± aÃ§maya Ã§alÄ±ÅŸalÄ±m
            const dfMessenger = document.querySelector('df-messenger');
            if (dfMessenger) {
                // Widget'Ä± geniÅŸlet (EÄŸer destekleniyorsa)
                // Not: Google'Ä±n API'si bazen expand fonksiyonunu deÄŸiÅŸtirir.
                // En garantisi gÃ¶rsel olarak kullanÄ±cÄ±yÄ± yÃ¶nlendirmektir.

                // Panoya kopyala ki kullanÄ±cÄ± hemen yapÄ±ÅŸtÄ±rabilsin
                navigator.clipboard.writeText(query).then(() => {
                    alert("'" + query + "' metni kopyalandÄ±! LÃ¼tfen saÄŸ alttaki mavi ikona tÄ±klayÄ±p yapÄ±ÅŸtÄ±rÄ±n.");
                });
            }
        }

        // Sayfa yÃ¼klendiÄŸinde widget'Ä± otomatik aÃ§mayÄ± deneme (Opsiyonel)
        window.addEventListener('load', function () {
            const dfMessenger = document.querySelector('df-messenger');
            // dfMessenger.setAttribute('expand', 'true'); // BazÄ± sÃ¼rÃ¼mlerde Ã§alÄ±ÅŸÄ±r
        });
    </script>

</body>
</html>